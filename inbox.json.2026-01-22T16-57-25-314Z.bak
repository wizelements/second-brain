[
  {
    "id": "mklfww4i",
    "text": "finish the gratog landing page by friday",
    "source": "voice",
    "timestamp": "2026-01-19T17:29:35.394Z",
    "status": "active",
    "category": "task",
    "priority": "high",
    "nextAction": "Finish the Gratog landing page",
    "confidence": 0.9,
    "updatedAt": "2026-01-22T13:11:57.498Z"
  },
  {
    "id": "mklfx5x1",
    "text": "Gig: acme corp - $500 - website redesign",
    "category": "gig",
    "priority": "high",
    "nextAction": "Invoice client",
    "source": "voice",
    "timestamp": "2026-01-19T17:29:48.085Z",
    "status": "classified",
    "gigData": {
      "client": "acme corp",
      "amount": 500,
      "description": "website redesign"
    }
  },
  {
    "id": "mklly6ge",
    "text": "Call mom",
    "category": "reminder",
    "priority": "medium",
    "source": "smart-ai",
    "timestamp": "2026-01-19T20:18:33.135Z",
    "status": "classified",
    "nextAction": "Call mom"
  },
  {
    "id": "mkllyjbh1",
    "text": "Launch new website: Finalize the content for each page of your website, including text, images, and any embedded media",
    "category": "task",
    "priority": "high",
    "nextAction": "Finalize the content for each page of your website, including text, images, and any embedded media",
    "estimatedMinutes": 180,
    "source": "ai-plan",
    "timestamp": "2026-01-19T20:18:49.805Z",
    "status": "active",
    "planGoal": "Launch new website",
    "planOrder": 1,
    "updatedAt": "2026-01-22T13:12:01.836Z"
  },
  {
    "id": "mkllyjbh2",
    "text": "Launch new website: Perform usability testing on different devices to ensure optimal user experience",
    "category": "task",
    "priority": "medium",
    "nextAction": "Perform usability testing on different devices to ensure optimal user experience",
    "estimatedMinutes": 120,
    "source": "ai-plan",
    "timestamp": "2026-01-19T20:18:49.805Z",
    "status": "classified",
    "planGoal": "Launch new website",
    "planOrder": 2
  },
  {
    "id": "mkllyjbh3",
    "text": "Launch new website: Implement SEO best practices on each page to improve search engine rankings",
    "category": "task",
    "priority": "medium",
    "nextAction": "Implement SEO best practices on each page to improve search engine rankings",
    "estimatedMinutes": 90,
    "source": "ai-plan",
    "timestamp": "2026-01-19T20:18:49.805Z",
    "status": "classified",
    "planGoal": "Launch new website",
    "planOrder": 3
  },
  {
    "id": "mkllyjbh4",
    "text": "Launch new website: Create a pre-launch marketing plan, including social media posts, email newsletters, and blog posts",
    "category": "task",
    "priority": "medium",
    "nextAction": "Create a pre-launch marketing plan, including social media posts, email newsletters, and blog posts",
    "estimatedMinutes": 120,
    "source": "ai-plan",
    "timestamp": "2026-01-19T20:18:49.805Z",
    "status": "classified",
    "planGoal": "Launch new website",
    "planOrder": 4
  },
  {
    "id": "mkllyjbh5",
    "text": "Launch new website: Launch the website and send out the first wave of marketing materials",
    "category": "task",
    "priority": "medium",
    "nextAction": "Launch the website and send out the first wave of marketing materials",
    "estimatedMinutes": 60,
    "source": "ai-plan",
    "timestamp": "2026-01-19T20:18:49.805Z",
    "status": "classified",
    "planGoal": "Launch new website",
    "planOrder": 5
  },
  {
    "id": "mkluy0ff",
    "text": "test task",
    "source": "test",
    "timestamp": "2026-01-20T00:30:21.867Z",
    "status": "done",
    "category": "task",
    "priority": "medium",
    "nextAction": "complete test task",
    "confidence": 0.9,
    "completedAt": "2026-01-20T15:57:51.419Z"
  },
  {
    "id": "mkm7zg58",
    "text": "Guide received: Test Guide",
    "category": "guide",
    "priority": "low",
    "source": "gpt-guide",
    "timestamp": "2026-01-20T06:35:23.900Z",
    "status": "classified",
    "nextAction": "Read guide: 2026-01-20-test-guide.md",
    "guidePath": "/data/data/com.termux/files/home/.local/share/second-brain/guides/2026-01-20-test-guide.md"
  },
  {
    "id": "mkms2omv",
    "text": "test capture",
    "source": "health-check",
    "timestamp": "2026-01-20T15:57:47.191Z",
    "status": "review",
    "category": "task",
    "priority": "low",
    "nextAction": "Define the scope of the test",
    "confidence": 0.7
  },
  {
    "id": "mkms2tdo",
    "text": "Gig: test client - $50 - N/A",
    "category": "gig",
    "priority": "high",
    "nextAction": "Invoice client",
    "source": "voice",
    "timestamp": "2026-01-20T15:57:53.340Z",
    "status": "classified",
    "gigData": {
      "client": "test client",
      "amount": 50,
      "description": "N/A"
    }
  },
  {
    "id": "mkms2vml",
    "text": "Guide received: Test Guide",
    "category": "guide",
    "priority": "low",
    "source": "gpt-guide",
    "timestamp": "2026-01-20T15:57:56.253Z",
    "status": "classified",
    "nextAction": "Read guide: 2026-01-20-test-guide.md",
    "guidePath": "/data/data/com.termux/files/home/.local/share/second-brain/guides/2026-01-20-test-guide.md"
  },
  {
    "id": "mkmz25jt",
    "text": "amp test",
    "source": "amp",
    "timestamp": "2026-01-20T19:13:19.769Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Perform the amp test",
    "confidence": 0.9
  },
  {
    "id": "mkmzp2zd",
    "text": "Guide received: Cloudflare Tunnel Setup",
    "category": "guide",
    "priority": "low",
    "source": "gpt-guide",
    "timestamp": "2026-01-20T19:31:09.529Z",
    "status": "classified",
    "nextAction": "Read guide: 2026-01-20-cloudflare-tunnel-setup.md",
    "guidePath": "/data/data/com.termux/files/home/.local/share/second-brain/guides/2026-01-20-cloudflare-tunnel-setup.md"
  },
  {
    "id": "mkn0bgyg",
    "text": "SERVER UPDATE READY: New server.js with 12 endpoints (capture, nudge, inbox, sync-files, send-guide, file-context, email). Pull files from Windows: C:\\Users\\jacla\\.agents\\skills\\second-brain-sync\\termux\\",
    "source": "voice",
    "timestamp": "2026-01-20T19:48:34.073Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Pull files from specified location",
    "confidence": 0.9
  },
  {
    "id": "mkn0bo4y",
    "text": "FILE:server.js\n\n/**\n * SoloSpace - Second Brain Webhook Server\n * \n * Runs on Termux, exposed via Cloudflare tunnel at:\n * https://solospace.codewithsolo.com\n * \n * Install: npm install express nodemailer\n * Run: node server.js\n * Tunnel: cloudflared tunnel run solospace\n */\n\nconst express = require('express');\nconst fs = require('fs');\nconst path = require('path');\n\nconst app = express();\nconst PORT = process.env.PORT || 5000;\n\n// Middleware\napp.use(express.json());\n\n// CORS for GPT\napp.use((req, res, next) => {\n  res.header('Access-Control-Allow-Origin', '*');\n  res.header('Access-Control-Allow-Methods', 'GET, POST, OPTIONS');\n  res.header('Access-Control-Allow-Headers', 'Content-Type, X-API-Key, Authorization');\n  if (req.method === 'OPTIONS') {\n    return res.sendStatus(200);\n  }\n  next();\n});\n\n// Load config\nconst CONFIG_PATH = path.join(__dirname, 'config.json');\nlet config = {};\nif (fs.existsSync(CONFIG_PATH)) {\n  config = JSON.parse(fs.readFileSync(CONFIG_PATH, 'utf-8'));\n}\n\n// Second Brain storage paths\nconst BRAIN_DIR = process.env.BRAIN_DIR || path.join(process.env.HOME, '.local/share/second-brain');\nconst CAPTURES_DIR = path.join(BRAIN_DIR, 'captures');\nconst GUIDES_DIR = path.join(BRAIN_DIR, 'guides');\nconst INBOX_FILE = path.join(BRAIN_DIR, 'inbox.json');\nconst CONTEXT_FILE = path.join(BRAIN_DIR, 'context.json');\n\n// Ensure directories exist\n[BRAIN_DIR, CAPTURES_DIR, GUIDES_DIR].forEach(dir => {\n  if (!fs.existsSync(dir)) {\n    fs.mkdirSync(dir, { recursive: true });\n  }\n});\n\n// Initialize files if missing\nif (!fs.existsSync(INBOX_FILE)) {\n  fs.writeFileSync(INBOX_FILE, JSON.stringify({ items: [] }, null, 2));\n}\nif (!fs.existsSync(CONTEXT_FILE)) {\n  fs.writeFileSync(CONTEXT_FILE, JSON.stringify({ focus: null, projects: {} }, null, 2));\n}\n\n// ============================================\n// HEALTH CHECK\n// ============================================\n\napp.get('/health', (req, res) => {\n  res.json({\n    status: 'ok',\n    service: 'solospace-second-brain',\n    timestamp: new Date().toISOString(),\n    endpoints: {\n      email: ['draft', 'gmail', 'outlook'],\n      brain: ['capture', 'nudge', 'inbox', 'sync-files', 'send-guide', 'file-context']\n    }\n  });\n});\n\n// Alias for root\napp.get('/', (req, res) => {\n  res.json({\n    service: 'SoloSpace Second Brain',\n    version: '2.0.0',\n    docs: 'https://solospace.codewithsolo.com/health'\n  });\n});\n\n// ============================================\n// EMAIL ENDPOINTS\n// ============================================\n\n// Load email routes\nconst emailRoutes = require('./email-routes');\nemailRoutes(app, config);\n\n// ============================================\n// CAPTURE ENDPOINT\n// ============================================\n\napp.post('/webhook/capture', (req, res) => {\n  const { type, content, project, files, thread } = req.body;\n\n  if (!type || !content) {\n    return res.status(400).json({ error: 'type and content required' });\n  }\n\n  const validTypes = ['learning', 'bug-fix', 'deployment', 'pattern', 'insight', 'note'];\n  if (!validTypes.includes(type)) {\n    return res.status(400).json({ error: `type must be one of: ${validTypes.join(', ')}` });\n  }\n\n  const capture = {\n    id: `cap_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n    type,\n    content,\n    project: project || 'general',\n    files: files || [],\n    thread: thread || null,\n    timestamp: new Date().toISOString()\n  };\n\n  // Save capture\n  const filename = `${capture.id}.json`;\n  const filepath = path.join(CAPTURES_DIR, filename);\n  fs.writeFileSync(filepath, JSON.stringify(capture, null, 2));\n\n  res.json({\n    success: true,\n    id: capture.id,\n    message: `Captured ${type} for ${capture.project}`,\n    path: filepath\n  });\n});\n\n// ============================================\n// NUDGE ENDPOINT\n// ============================================\n\napp.get('/webhook/nudge', (req, res) => {\n  let context = { focus: null, projects: {} };\n  \n  try {\n    if (fs.existsSync(CONTEXT_FILE)) {\n      context = JSON.parse(fs.readFileSync(CONTEXT_FILE, 'utf-8'));\n    }\n  } catch (e) {\n    console.error('Error reading context:', e.message);\n  }\n\n  // Get recent captures to infer focus\n  let recentCaptures = [];\n  try {\n    const files = fs.readdirSync(CAPTURES_DIR)\n      .filter(f => f.endsWith('.json'))\n      .sort()\n      .reverse()\n      .slice(0, 5);\n    \n    recentCaptures = files.map(f => {\n      const data = JSON.parse(fs.readFileSync(path.join(CAPTURES_DIR, f), 'utf-8'));\n      return { type: data.type, project: data.project, timestamp: data.timestamp };\n    });\n  } catch (e) {\n    console.error('Error reading captures:', e.message);\n  }\n\n  // Infer current focus from recent activity\n  const projectCounts = {};\n  recentCaptures.forEach(c => {\n    projectCounts[c.project] = (projectCounts[c.project] || 0) + 1;\n  });\n  \n  const topProject = Object.entries(projectCounts)\n    .sort((a, b) => b[1] - a[1])[0];\n\n  res.json({\n    focus: context.focus || (topProject ? `Continue work on ${topProject[0]}` : 'Start your day with a capture'),\n    priority: context.priority || 'normal',\n    context: {\n      recentProjects: Object.keys(projectCounts),\n      lastCapture: recentCaptures[0]?.timestamp || null,\n      captureCount: recentCaptures.length\n    },\n    suggestion: topProject \n      ? `You've been active on ${topProject[0]}. Pick up where you left off.`\n      : 'No recent captures. Start by capturing a learning or insight.'\n  });\n});\n\n// Set focus\napp.post('/webhook/nudge', (req, res) => {\n  const { focus, priority } = req.body;\n\n  let context = {};\n  try {\n    if (fs.existsSync(CONTEXT_FILE)) {\n      context = JSON.parse(fs.readFileSync(CONTEXT_FILE, 'utf-8'));\n    }\n  } catch (e) {}\n\n  context.focus = focus || context.focus;\n  context.priority = priority || context.priority;\n  context.updatedAt = new Date().toISOString();\n\n  fs.writeFileSync(CONTEXT_FILE, JSON.stringify(context, null, 2));\n\n  res.json({\n    success: true,\n    focus: context.focus,\n    priority: context.priority\n  });\n});\n\n// ============================================\n// INBOX ENDPOINT\n// ============================================\n\napp.get('/webhook/inbox', (req, res) => {\n  let inbox = { items: [] };\n  \n  try {\n    if (fs.existsSync(INBOX_FILE)) {\n      inbox = JSON.parse(fs.readFileSync(INBOX_FILE, 'utf-8'));\n    }\n  } catch (e) {\n    console.error('Error reading inbox:', e.message);\n  }\n\n  res.json({\n    items: inbox.items || [],\n    count: (inbox.items || []).length\n  });\n});\n\n// Add to inbox\napp.post('/webhook/inbox', (req, res) => {\n  const { type, content, project, due } = req.body;\n\n  if (!content) {\n    return res.status(400).json({ error: 'content required' });\n  }\n\n  let inbox = { items: [] };\n  try {\n    if (fs.existsSync(INBOX_FILE)) {\n      inbox = JSON.parse(fs.readFileSync(INBOX_FILE, 'utf-8'));\n    }\n  } catch (e) {}\n\n  const item = {\n    id: `inbox_${Date.now()}`,\n    type: type || 'task',\n    content,\n    project: project || null,\n    due: due || null,\n    createdAt: new Date().toISOString()\n  };\n\n  inbox.items = inbox.items || [];\n  inbox.items.push(item);\n  fs.writeFileSync(INBOX_FILE, JSON.stringify(inbox, null, 2));\n\n  res.json({\n    success: true,\n    id: item.id,\n    message: 'Added to inbox'\n  });\n});\n\n// Clear inbox item\napp.delete('/webhook/inbox/:id', (req, res) => {\n  const { id } = req.params;\n\n  let inbox = { items: [] };\n  try {\n    if (fs.existsSync(INBOX_FILE)) {\n      inbox = JSON.parse(fs.readFileSync(INBOX_FILE, 'utf-8'));\n    }\n  } catch (e) {}\n\n  const before = inbox.items.length;\n  inbox.items = (inbox.items || []).filter(item => item.id !== id);\n  \n  if (inbox.items.length === before) {\n    return res.status(404).json({ error: 'Item not found' });\n  }\n\n  fs.writeFileSync(INBOX_FILE, JSON.stringify(inbox, null, 2));\n  res.json({ success: true, message: 'Item removed' });\n});\n\n// ============================================\n// SYNC FILES ENDPOINT\n// ============================================\n\napp.post('/webhook/sync-files', (req, res) => {\n  const { project, files } = req.body;\n\n  if (!project || !files || !Array.isArray(files)) {\n    return res.status(400).json({ error: 'project and files array required' });\n  }\n\n  const projectDir = path.join(BRAIN_DIR, 'projects', project);\n  if (!fs.existsSync(projectDir)) {\n    fs.mkdirSync(projectDir, { recursive: true });\n  }\n\n  let synced = 0;\n  files.forEach(file => {\n    if (file.path && file.content) {\n      const filePath = path.join(projectDir, path.basename(file.path));\n      fs.writeFileSync(filePath, file.content);\n      synced++;\n    }\n  });\n\n  // Update project index\n  const indexPath = path.join(projectDir, '_index.json');\n  fs.writeFileSync(indexPath, JSON.stringify({\n    project,\n    syncedAt: new Date().toISOString(),\n    fileCount: synced,\n    files: files.map(f => f.path)\n  }, null, 2));\n\n  res.json({\n    success: true,\n    synced,\n    project,\n    path: projectDir\n  });\n});\n\n// ============================================\n// SEND GUIDE ENDPOINT\n// ============================================\n\napp.post('/webhook/send-guide', (req, res) => {\n  const { title, content } = req.body;\n\n  if (!title || !content) {\n    return res.status(400).json({ error: 'title and content required' });\n  }\n\n  // Create safe filename\n  const filename = title\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, '-')\n    .replace(/^-|-$/g, '') + '.md';\n  \n  const filepath = path.join(GUIDES_DIR, filename);\n  \n  // Add frontmatter\n  const doc = `---\ntitle: ${title}\ncreated: ${new Date().toISOString()}\n---\n\n${content}`;\n\n  fs.writeFileSync(filepath, doc);\n\n  res.json({\n    success: true,\n    title,\n    path: filepath,\n    message: `Guide saved: ${filename}`\n  });\n});\n\n// List guides\napp.get('/webhook/guides', (req, res) => {\n  let guides = [];\n  \n  try {\n    guides = fs.readdirSync(GUIDES_DIR)\n      .filter(f => f.endsWith('.md'))\n      .map(f => ({\n        name: f,\n        path: path.join(GUIDES_DIR, f)\n      }));\n  } catch (e) {\n    console.error('Error reading guides:', e.message);\n  }\n\n  res.json({ guides, count: guides.length });\n});\n\n// ============================================\n// FILE CONTEXT ENDPOINT\n// ============================================\n\napp.get('/webhook/file-context', (req, res) => {\n  const { project, query } = req.query;\n\n  if (!project) {\n    return res.status(400).json({ error: 'project parameter required' });\n  }\n\n  const projectDir = path.join(BRAIN_DIR, 'projects', project);\n  \n  if (!fs.existsSync(projectDir)) {\n    return res.status(404).json({ error: `Project ${project} not synced` });\n  }\n\n  // Read project index\n  const indexPath = path.join(projectDir, '_index.json');\n  let index = { files: [] };\n  if (fs.existsSync(indexPath)) {\n    index = JSON.parse(fs.readFileSync(indexPath, 'utf-8'));\n  }\n\n  // Filter by query if provided\n  let matches = index.files || [];\n  if (query) {\n    const q = query.toLowerCase();\n    matches = matches.filter(f => f.toLowerCase().includes(q));\n  }\n\n  res.json({\n    project,\n    query: query || null,\n    matches: matches.map(f => ({\n      file: f,\n      relevance: query ? (f.toLowerCase().includes(query.toLowerCase()) ? 1 : 0.5) : 1\n    })),\n    syncedAt: index.syncedAt || null\n  });\n});\n\n// ============================================\n// CAPTURES LIST ENDPOINT (bonus)\n// ============================================\n\napp.get('/webhook/captures', (req, res) => {\n  const { project, type, limit } = req.query;\n  const maxLimit = parseInt(limit) || 20;\n\n  let captures = [];\n  try {\n    const files = fs.readdirSync(CAPTURES_DIR)\n      .filter(f => f.endsWith('.json'))\n      .sort()\n      .reverse();\n\n    captures = files.slice(0, 100).map(f => {\n      return JSON.parse(fs.readFileSync(path.join(CAPTURES_DIR, f), 'utf-8'));\n    });\n\n    // Filter\n    if (project) {\n      captures = captures.filter(c => c.project === project);\n    }\n    if (type) {\n      captures = captures.filter(c => c.type === type);\n    }\n\n    captures = captures.slice(0, maxLimit);\n  } catch (e) {\n    console.error('Error reading captures:', e.message);\n  }\n\n  res.json({\n    captures,\n    count: captures.length\n  });\n});\n\n// ============================================\n// START SERVER\n// ============================================\n\napp.listen(PORT, () => {\n  console.log('');\n  console.log('â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—');\n  console.log('â•‘         SoloSpace Second Brain Server                  â•‘');\n  console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');\n  console.log(`â•‘  Local:  http://localhost:${PORT}                         â•‘`);\n  console.log('â•‘  Public: https://solospace.codewithsolo.com            â•‘');\n  console.log('â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£');\n  console.log('â•‘  Endpoints:                                            â•‘');\n  console.log('â•‘    POST /webhook/email/draft                           â•‘');\n  console.log('â•‘    POST /webhook/email/gmail                           â•‘');\n  console.log('â•‘    POST /webhook/email/outlook                         â•‘');\n  console.log('â•‘    POST /webhook/capture                               â•‘');\n  console.log('â•‘    GET  /webhook/nudge                                 â•‘');\n  console.log('â•‘    GET  /webhook/inbox                                 â•‘');\n  console.log('â•‘    POST /webhook/sync-files                            â•‘');\n  console.log('â•‘    POST /webhook/send-guide                            â•‘');\n  console.log('â•‘    GET  /webhook/file-context                          â•‘');\n  console.log('â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');\n  console.log('');\n  console.log('Brain directory:', BRAIN_DIR);\n  console.log('');\n});\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:48:43.378Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Run the server.js file",
    "confidence": 0.9
  },
  {
    "id": "mkn0bwvk",
    "text": "FILE:email-routes.js\n\n/**\n * Email routes for Termux Second Brain server\n * \n * Add this to your server.js in termux-webhooks:\n * \n * const emailRoutes = require('./email-routes');\n * emailRoutes(app, config);\n */\n\nconst nodemailer = require('nodemailer');\n\nmodule.exports = function(app, config) {\n  \n  // Gmail transporter\n  let gmailTransport = null;\n  if (config.gmail?.user && config.gmail?.appPassword) {\n    gmailTransport = nodemailer.createTransport({\n      service: 'gmail',\n      auth: {\n        user: config.gmail.user,\n        pass: config.gmail.appPassword\n      }\n    });\n  }\n\n  // Outlook transporter\n  let outlookTransport = null;\n  if (config.outlook?.user && config.outlook?.appPassword) {\n    outlookTransport = nodemailer.createTransport({\n      host: 'smtp-mail.outlook.com',\n      port: 587,\n      secure: false,\n      auth: {\n        user: config.outlook.user,\n        pass: config.outlook.appPassword\n      }\n    });\n  }\n\n  // Draft email (no send)\n  app.post('/webhook/email/draft', (req, res) => {\n    const { to, subject, body } = req.body;\n    \n    if (!to || !subject || !body) {\n      return res.status(400).json({ error: 'to, subject, body required' });\n    }\n\n    res.json({\n      draft: true,\n      to,\n      subject,\n      body,\n      preview: `To: ${to}\\nSubject: ${subject}\\n\\n${body}`,\n      message: 'Draft ready. Say \"send via gmail\" or \"send via outlook\"'\n    });\n  });\n\n  // Send via Gmail\n  app.post('/webhook/email/gmail', async (req, res) => {\n    if (!gmailTransport) {\n      return res.status(500).json({ error: 'Gmail not configured' });\n    }\n\n    const { to, subject, body } = req.body;\n    \n    if (!to || !subject || !body) {\n      return res.status(400).json({ error: 'to, subject, body required' });\n    }\n\n    try {\n      await gmailTransport.sendMail({\n        from: config.gmail.user,\n        to,\n        subject,\n        text: body,\n        html: body.replace(/\\n/g, '<br>')\n      });\n      \n      res.json({ \n        success: true, \n        message: `Email sent to ${to} via Gmail`,\n        from: config.gmail.user\n      });\n    } catch (err) {\n      res.status(500).json({ error: err.message });\n    }\n  });\n\n  // Send via Outlook\n  app.post('/webhook/email/outlook', async (req, res) => {\n    if (!outlookTransport) {\n      return res.status(500).json({ error: 'Outlook not configured' });\n    }\n\n    const { to, subject, body } = req.body;\n    \n    if (!to || !subject || !body) {\n      return res.status(400).json({ error: 'to, subject, body required' });\n    }\n\n    try {\n      await outlookTransport.sendMail({\n        from: config.outlook.user,\n        to,\n        subject,\n        text: body,\n        html: body.replace(/\\n/g, '<br>')\n      });\n      \n      res.json({ \n        success: true, \n        message: `Email sent to ${to} via Outlook`,\n        from: config.outlook.user\n      });\n    } catch (err) {\n      res.status(500).json({ error: err.message });\n    }\n  });\n\n  console.log('Email routes loaded:');\n  console.log('  POST /webhook/email/draft');\n  console.log('  POST /webhook/email/gmail', gmailTransport ? 'âœ“' : '(not configured)');\n  console.log('  POST /webhook/email/outlook', outlookTransport ? 'âœ“' : '(not configured)');\n};\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:48:54.705Z",
    "status": "classified",
    "category": "task",
    "priority": "low",
    "nextAction": "Review the email-routes.js file",
    "confidence": 0.9
  },
  {
    "id": "mkn0c5cc",
    "text": "FILE:package.json\n\n{\n  \"name\": \"solospace-second-brain\",\n  \"version\": \"2.0.0\",\n  \"description\": \"Second Brain webhook server for Termux - exposed via Cloudflare tunnel\",\n  \"main\": \"server.js\",\n  \"scripts\": {\n    \"start\": \"node server.js\",\n    \"tunnel\": \"cloudflared tunnel run solospace\",\n    \"dev\": \"node server.js & cloudflared tunnel run solospace\"\n  },\n  \"dependencies\": {\n    \"express\": \"^4.18.2\",\n    \"nodemailer\": \"^6.9.7\"\n  },\n  \"author\": \"SoloSpace\",\n  \"license\": \"MIT\"\n}\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:49:05.677Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Review and update dependencies in package.json file",
    "confidence": 0.8
  },
  {
    "id": "mkn0cdkg",
    "text": "FILE:openapi.yaml\n\nopenapi: 3.1.0\ninfo:\n  title: SoloSpace Second Brain API\n  description: |\n    Personal Second Brain API for capturing learnings, managing focus, and sending emails.\n    Runs on Termux Android, exposed via Cloudflare tunnel.\n  version: 2.0.0\n\nservers:\n  - url: https://solospace.codewithsolo.com\n    description: Production (Cloudflare tunnel)\n\npaths:\n  /health:\n    get:\n      operationId: healthCheck\n      summary: Check server status\n      responses:\n        '200':\n          description: Server status\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  status:\n                    type: string\n                  service:\n                    type: string\n                  timestamp:\n                    type: string\n\n  /webhook/email/draft:\n    post:\n      operationId: draftEmail\n      summary: Create email draft for review\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [to, subject, body]\n              properties:\n                to:\n                  type: string\n                  format: email\n                subject:\n                  type: string\n                body:\n                  type: string\n      responses:\n        '200':\n          description: Draft created\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  draft:\n                    type: boolean\n                  preview:\n                    type: string\n                  message:\n                    type: string\n\n  /webhook/email/gmail:\n    post:\n      operationId: sendGmail\n      summary: Send email via Gmail\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [to, subject, body]\n              properties:\n                to:\n                  type: string\n                subject:\n                  type: string\n                body:\n                  type: string\n      responses:\n        '200':\n          description: Email sent\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  message:\n                    type: string\n\n  /webhook/email/outlook:\n    post:\n      operationId: sendOutlook\n      summary: Send email via Outlook\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [to, subject, body]\n              properties:\n                to:\n                  type: string\n                subject:\n                  type: string\n                body:\n                  type: string\n      responses:\n        '200':\n          description: Email sent\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  message:\n                    type: string\n\n  /webhook/capture:\n    post:\n      operationId: captureToSecondBrain\n      summary: Save learning/insight to Second Brain\n      description: |\n        Capture types:\n        - learning: New knowledge gained\n        - bug-fix: Bug root cause and solution\n        - deployment: What was deployed\n        - pattern: Reusable code pattern\n        - insight: Business/technical insight\n        - note: General note\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [type, content]\n              properties:\n                type:\n                  type: string\n                  enum: [learning, bug-fix, deployment, pattern, insight, note]\n                content:\n                  type: string\n                  description: Main content to capture\n                project:\n                  type: string\n                  description: Project name (optional)\n                files:\n                  type: array\n                  items:\n                    type: string\n                  description: Related files\n                thread:\n                  type: string\n                  description: Related Amp thread URL\n      responses:\n        '200':\n          description: Captured\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  id:\n                    type: string\n                  message:\n                    type: string\n\n  /webhook/nudge:\n    get:\n      operationId: getNudge\n      summary: Get current focus and priority\n      description: Returns what to focus on based on recent activity\n      responses:\n        '200':\n          description: Current focus\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  focus:\n                    type: string\n                  priority:\n                    type: string\n                  context:\n                    type: object\n                  suggestion:\n                    type: string\n\n  /webhook/inbox:\n    get:\n      operationId: getInbox\n      summary: Get pending inbox items\n      responses:\n        '200':\n          description: Inbox items\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  items:\n                    type: array\n                    items:\n                      type: object\n                      properties:\n                        id:\n                          type: string\n                        type:\n                          type: string\n                        content:\n                          type: string\n                        project:\n                          type: string\n                        due:\n                          type: string\n                  count:\n                    type: integer\n    post:\n      operationId: addToInbox\n      summary: Add item to inbox\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [content]\n              properties:\n                type:\n                  type: string\n                  default: task\n                content:\n                  type: string\n                project:\n                  type: string\n                due:\n                  type: string\n      responses:\n        '200':\n          description: Added\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  id:\n                    type: string\n\n  /webhook/sync-files:\n    post:\n      operationId: syncFiles\n      summary: Sync project files to Second Brain\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [project, files]\n              properties:\n                project:\n                  type: string\n                files:\n                  type: array\n                  items:\n                    type: object\n                    properties:\n                      path:\n                        type: string\n                      content:\n                        type: string\n      responses:\n        '200':\n          description: Files synced\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  synced:\n                    type: integer\n                  project:\n                    type: string\n\n  /webhook/send-guide:\n    post:\n      operationId: sendGuide\n      summary: Save markdown guide to Second Brain\n      requestBody:\n        required: true\n        content:\n          application/json:\n            schema:\n              type: object\n              required: [title, content]\n              properties:\n                title:\n                  type: string\n                content:\n                  type: string\n                  description: Markdown content\n      responses:\n        '200':\n          description: Guide saved\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  success:\n                    type: boolean\n                  path:\n                    type: string\n\n  /webhook/file-context:\n    get:\n      operationId: getFileContext\n      summary: Query synced project files\n      parameters:\n        - name: project\n          in: query\n          required: true\n          schema:\n            type: string\n        - name: query\n          in: query\n          schema:\n            type: string\n      responses:\n        '200':\n          description: File matches\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  project:\n                    type: string\n                  matches:\n                    type: array\n                    items:\n                      type: object\n\n  /webhook/captures:\n    get:\n      operationId: listCaptures\n      summary: List recent captures\n      parameters:\n        - name: project\n          in: query\n          schema:\n            type: string\n        - name: type\n          in: query\n          schema:\n            type: string\n        - name: limit\n          in: query\n          schema:\n            type: integer\n            default: 20\n      responses:\n        '200':\n          description: Captures list\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  captures:\n                    type: array\n                    items:\n                      type: object\n                  count:\n                    type: integer\n\n  /webhook/guides:\n    get:\n      operationId: listGuides\n      summary: List saved guides\n      responses:\n        '200':\n          description: Guides list\n          content:\n            application/json:\n              schema:\n                type: object\n                properties:\n                  guides:\n                    type: array\n                    items:\n                      type: object\n                  count:\n                    type: integer\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:49:16.336Z",
    "status": "classified",
    "category": "task",
    "priority": "low",
    "nextAction": "Review and understand openapi.yaml file",
    "confidence": 0.9
  },
  {
    "id": "mkn0clpn",
    "text": "FILE:SETUP.md\n\n# SoloSpace Second Brain - Termux Setup\n\nComplete server for your Second Brain, exposed via Cloudflare tunnel.\n\n## Quick Start\n\n```bash\n# 1. Copy files to Termux\n# From Windows, these files need to go to ~/termux-webhooks/ on your phone\n\n# 2. In Termux, install dependencies\ncd ~/termux-webhooks\nnpm install\n\n# 3. Create config\ncp config.example.json config.json\nnano config.json  # Add your email credentials\n\n# 4. Start server\nnpm start\n\n# 5. Start tunnel (in another terminal)\nnpm run tunnel\n# Or: cloudflared tunnel run solospace\n```\n\n## Files\n\n| File | Purpose |\n|------|---------|\n| `server.js` | Main Express server with all endpoints |\n| `email-routes.js` | Email handling (Gmail/Outlook) |\n| `config.json` | Your email credentials (create from example) |\n| `package.json` | Dependencies |\n\n## Endpoints\n\n### Email\n| Endpoint | Method | Purpose |\n|----------|--------|---------|\n| `/webhook/email/draft` | POST | Create email draft |\n| `/webhook/email/gmail` | POST | Send via Gmail |\n| `/webhook/email/outlook` | POST | Send via Outlook |\n\n### Second Brain\n| Endpoint | Method | Purpose |\n|----------|--------|---------|\n| `/webhook/capture` | POST | Save learning/insight |\n| `/webhook/nudge` | GET | Get current focus |\n| `/webhook/inbox` | GET | Get pending items |\n| `/webhook/inbox` | POST | Add item to inbox |\n| `/webhook/sync-files` | POST | Sync project files |\n| `/webhook/send-guide` | POST | Save markdown guide |\n| `/webhook/file-context` | GET | Query synced files |\n| `/webhook/captures` | GET | List captures |\n| `/webhook/guides` | GET | List guides |\n\n## Storage\n\nData stored in `~/.local/share/second-brain/`:\n\n```\n~/.local/share/second-brain/\nâ”œâ”€â”€ captures/           # Individual capture JSON files\nâ”œâ”€â”€ guides/             # Markdown guides\nâ”œâ”€â”€ projects/           # Synced project files\nâ”‚   â””â”€â”€ beltlinegolf/\nâ”‚       â”œâ”€â”€ _index.json\nâ”‚       â””â”€â”€ [synced files]\nâ”œâ”€â”€ inbox.json          # Inbox items\nâ””â”€â”€ context.json        # Current focus/context\n```\n\n## Email Setup\n\n### Gmail App Password\n1. https://myaccount.google.com/security\n2. Enable 2-Factor Authentication\n3. Go to App Passwords\n4. Create one for \"Mail\"\n5. Copy the 16-character code to config.json\n\n### Outlook App Password\n1. https://account.live.com/proofs/manage\n2. Create app password\n3. Copy to config.json\n\n## Cloudflare Tunnel\n\nYour tunnel is already configured:\n\n- **Name**: solospace\n- **ID**: `7c2790e3-0f24-4598-9d99-402452b977de`\n- **URL**: `https://solospace.codewithsolo.com`\n\nConfig at `~/.cloudflared/config.yml`:\n```yaml\nurl: http://localhost:5000\ntunnel: 7c2790e3-0f24-4598-9d99-402452b977de\ncredentials-file: ~/.cloudflared/7c2790e3-0f24-4598-9d99-402452b977de.json\n\ningress:\n  - hostname: solospace.codewithsolo.com\n    service: http://localhost:5000\n  - service: http_status:404\n```\n\n## Test Endpoints\n\n```bash\n# Health check\ncurl https://solospace.codewithsolo.com/health\n\n# Capture a learning\ncurl -X POST https://solospace.codewithsolo.com/webhook/capture \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"type\":\"learning\",\"content\":\"TIL: Express middleware order matters\"}'\n\n# Get nudge\ncurl https://solospace.codewithsolo.com/webhook/nudge\n\n# Draft email\ncurl -X POST https://solospace.codewithsolo.com/webhook/email/draft \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"to\":\"test@example.com\",\"subject\":\"Test\",\"body\":\"Hello!\"}'\n```\n\n## Run as Service (Optional)\n\nCreate `~/.config/systemd/user/solospace.service`:\n\n```ini\n[Unit]\nDescription=SoloSpace Second Brain Server\nAfter=network.target\n\n[Service]\nType=simple\nWorkingDirectory=%h/termux-webhooks\nExecStart=/data/data/com.termux/files/usr/bin/node server.js\nRestart=on-failure\nRestartSec=5\n\n[Install]\nWantedBy=default.target\n```\n\nEnable:\n```bash\nsystemctl --user enable solospace\nsystemctl --user start solospace\n```\n\n## Voice Integration (Tasker)\n\nThese voice commands work with your setup:\n\n- \"Hey DevSolo, what's my focus?\" â†’ GET /webhook/nudge\n- \"Hey DevSolo, capture [text]\" â†’ POST /webhook/capture\n- \"Hey DevSolo, what's in my inbox?\" â†’ GET /webhook/inbox\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:49:26.891Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Setup SoloSpace Second Brain on Termux",
    "confidence": 0.9
  },
  {
    "id": "mkn0csp9",
    "text": "FILE:config.example.json\n\n{\n  \"gmail\": {\n    \"user\": \"your.email@gmail.com\",\n    \"appPassword\": \"xxxx xxxx xxxx xxxx\"\n  },\n  \"outlook\": {\n    \"user\": \"your.email@outlook.com\",\n    \"appPassword\": \"your-app-password\"\n  }\n}\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:49:35.949Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Update the configuration file with valid email and password",
    "confidence": 0.9
  },
  {
    "id": "mkn0d0iu",
    "text": "FILE:GPT_INSTRUCTIONS.md\n\n# SoloSpace - Second Brain API - Complete GPT Instructions\n\n## Architecture Overview\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚                         ChatGPT (Your Phone)                            â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n                          â”‚\n          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\n          â–¼                               â–¼\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚  TERMUX (Android)       â”‚     â”‚  WINDOWS (Laptop)       â”‚\nâ”‚  Always Available       â”‚     â”‚  When Online            â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  Cloudflare Tunnel:     â”‚     â”‚  Local Server:          â”‚\nâ”‚  solospace.codewithsolo â”‚     â”‚  localhost:5001         â”‚\nâ”‚  .com                   â”‚     â”‚                         â”‚\nâ”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤\nâ”‚  âœ“ Email (Gmail/Outlook)â”‚     â”‚  âœ“ File Access          â”‚\nâ”‚  âœ“ Capture learnings    â”‚     â”‚  âœ“ Desktop listing      â”‚\nâ”‚  âœ“ Query Second Brain   â”‚     â”‚  âœ“ Read files           â”‚\nâ”‚  âœ“ Sync files           â”‚     â”‚  âœ“ Search files         â”‚\nâ”‚  âœ“ Get focus/nudge      â”‚     â”‚                         â”‚\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n# TERMUX ENDPOINTS (Always Available)\n\n**Base URL**: `https://solospace.codewithsolo.com`\n\n---\n\n## Email Endpoints\n\n### 1. Draft Email\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/email/draft`\n\n**Request Body**:\n```json\n{\n  \"to\": \"recipient@email.com\",\n  \"subject\": \"Email Subject\",\n  \"body\": \"Email content (plain text or HTML)\"\n}\n```\n\n**Response**:\n```json\n{\n  \"draft\": true,\n  \"preview\": \"To: recipient@email.com\\nSubject: Email Subject\\n\\nEmail content\",\n  \"message\": \"Draft created. Say 'send it' to send via Gmail or Outlook.\"\n}\n```\n\n**User Prompts**:\n> \"Draft an email to bob@example.com about the meeting\"\n> \"Create an email draft to my boss about taking Friday off\"\n\n---\n\n### 2. Send via Gmail\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/email/gmail`\n\n**Request Body**:\n```json\n{\n  \"to\": \"recipient@email.com\",\n  \"subject\": \"Email Subject\",\n  \"body\": \"Email content\"\n}\n```\n\n**Response**:\n```json\n{\n  \"success\": true,\n  \"message\": \"Email sent to recipient@email.com\"\n}\n```\n\n**User Prompts**:\n> \"Send an email to user@example.com via Gmail\"\n> \"Send it\" (after drafting)\n\n---\n\n### 3. Send via Outlook\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/email/outlook`\n\n**Request Body**:\n```json\n{\n  \"to\": \"recipient@email.com\",\n  \"subject\": \"Email Subject\",\n  \"body\": \"Email content\"\n}\n```\n\n**User Prompts**:\n> \"Send an email via Outlook to client@company.com\"\n> \"Use my work email to send this\"\n\n---\n\n## Second Brain Endpoints\n\n### 4. Capture to Second Brain\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/capture`\n\n**Request Body**:\n```json\n{\n  \"type\": \"learning\",\n  \"content\": \"TIL: Supabase RLS policies apply to service role too\",\n  \"project\": \"beltlinegolf\",\n  \"files\": [\"lib/supabase.ts\"],\n  \"thread\": \"https://ampcode.com/threads/T-...\"\n}\n```\n\n**Capture Types**:\n- `learning` - New knowledge gained\n- `bug-fix` - Bug root cause and solution\n- `deployment` - What was deployed\n- `pattern` - Reusable code pattern\n- `insight` - Business/technical insight\n- `note` - General note\n\n**User Prompts**:\n> \"Capture this: We fixed the auth bug by adding token refresh\"\n> \"Save this learning about Stripe webhooks\"\n> \"Remember: Always use service role for admin operations\"\n\n---\n\n### 5. Get Focus/Nudge\n**Endpoint**: `GET https://solospace.codewithsolo.com/webhook/nudge`\n\n**Response**:\n```json\n{\n  \"focus\": \"Complete Venmo integration for beltlinegolf\",\n  \"priority\": \"high\",\n  \"context\": {\n    \"project\": \"beltlinegolf\",\n    \"branch\": \"feature/venmo\",\n    \"lastActivity\": \"2026-01-20T14:30:00Z\"\n  }\n}\n```\n\n**User Prompts**:\n> \"What should I focus on?\"\n> \"What's my priority right now?\"\n> \"Give me a nudge\"\n\n---\n\n### 6. Get Inbox\n**Endpoint**: `GET https://solospace.codewithsolo.com/webhook/inbox`\n\n**Response**:\n```json\n{\n  \"items\": [\n    {\"type\": \"task\", \"content\": \"Review PR #42\", \"project\": \"beltlinegolf\"},\n    {\"type\": \"reminder\", \"content\": \"Deploy to prod today\", \"due\": \"2026-01-20\"}\n  ],\n  \"count\": 2\n}\n```\n\n**User Prompts**:\n> \"What's in my inbox?\"\n> \"Any pending items?\"\n> \"What needs my attention?\"\n\n---\n\n### 7. Sync Project Files\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/sync-files`\n\n**Request Body**:\n```json\n{\n  \"project\": \"beltlinegolf\",\n  \"files\": [\n    {\"path\": \"package.json\", \"content\": \"...\"},\n    {\"path\": \"README.md\", \"content\": \"...\"}\n  ]\n}\n```\n\n**User Prompts**:\n> \"Sync beltlinegolf to my Second Brain\"\n> \"Update the project files on my phone\"\n\n---\n\n### 8. Send Guide/Document\n**Endpoint**: `POST https://solospace.codewithsolo.com/webhook/send-guide`\n\n**Request Body**:\n```json\n{\n  \"title\": \"API Reference\",\n  \"content\": \"# API Reference\\n\\n## Endpoints\\n...\"\n}\n```\n\n**User Prompts**:\n> \"Send this documentation to my phone\"\n> \"Create a guide called 'Setup Instructions' with...\"\n\n---\n\n### 9. Query File Context\n**Endpoint**: `GET https://solospace.codewithsolo.com/webhook/file-context?project=beltlinegolf&query=payment`\n\n**Response**:\n```json\n{\n  \"project\": \"beltlinegolf\",\n  \"matches\": [\n    {\"file\": \"lib/payment.ts\", \"relevance\": 0.95},\n    {\"file\": \"app/api/checkout/route.ts\", \"relevance\": 0.82}\n  ]\n}\n```\n\n**User Prompts**:\n> \"What files handle payments in beltlinegolf?\"\n> \"Find auth-related code in my projects\"\n\n---\n\n# WINDOWS ENDPOINTS (When Laptop is Online)\n\n**Base URL**: `http://localhost:5001`\n\n> **Note**: These only work when your Windows laptop is on and the server is running.\n\n---\n\n### 10. Health Check\n**Endpoint**: `GET http://localhost:5001/health`\n\n**Response**:\n```json\n{\n  \"status\": \"ok\",\n  \"service\": \"windows-file-server\",\n  \"timestamp\": \"2026-01-20T15:30:00.000Z\"\n}\n```\n\n**User Prompts**:\n> \"Is my laptop online?\"\n> \"Check if Windows server is running\"\n\n---\n\n### 11. List Desktop\n**Endpoint**: `GET http://localhost:5001/desktop`\n\n**Response**:\n```json\n{\n  \"items\": [\n    {\"name\": \"project-folder\", \"type\": \"directory\"},\n    {\"name\": \"notes.txt\", \"type\": \"file\"}\n  ]\n}\n```\n\n**User Prompts**:\n> \"What's on my desktop?\"\n> \"List my desktop files\"\n\n---\n\n### 12. List Directory\n**Endpoint**: `GET http://localhost:5001/files/list?path=C:\\Users\\jacla\\Documents`\n\n**Response**:\n```json\n{\n  \"path\": \"C:\\\\Users\\\\jacla\\\\Documents\",\n  \"count\": 15,\n  \"items\": [\n    {\"name\": \"report.docx\", \"type\": \"file\", \"size\": 45678, \"path\": \"...\"}\n  ]\n}\n```\n\n**Allowed Paths**:\n- `C:\\Users\\jacla\\Desktop`\n- `C:\\Users\\jacla\\Documents`\n- `C:\\Users\\jacla\\Downloads`\n- `C:\\Users\\jacla\\projects`\n- `C:\\Users\\jacla\\.agents`\n\n**User Prompts**:\n> \"List files in my Documents\"\n> \"What's in my projects folder?\"\n> \"Show me Downloads\"\n\n---\n\n### 13. Read File\n**Endpoint**: `GET http://localhost:5001/files/read?path=C:\\Users\\jacla\\Desktop\\notes.txt`\n\n**Response**:\n```json\n{\n  \"path\": \"C:\\\\Users\\\\jacla\\\\Desktop\\\\notes.txt\",\n  \"size\": 1234,\n  \"lines\": 45,\n  \"content\": \"File contents here...\"\n}\n```\n\n**Limits**:\n- Max file size: 1MB\n- Max lines: 500 (truncated after)\n- Text files only (binary shows metadata only)\n\n**User Prompts**:\n> \"Read my notes.txt from the desktop\"\n> \"Show me the README in beltlinegolf\"\n> \"What's in config.json?\"\n\n---\n\n### 14. Search Files\n**Endpoint**: `GET http://localhost:5001/files/search?path=C:\\Users\\jacla\\projects&q=config`\n\n**Response**:\n```json\n{\n  \"searchPath\": \"C:\\\\Users\\\\jacla\\\\projects\",\n  \"pattern\": \"config\",\n  \"count\": 5,\n  \"results\": [\n    {\"name\": \"config.json\", \"type\": \"file\", \"path\": \"...\"}\n  ]\n}\n```\n\n**User Prompts**:\n> \"Search for config files in my projects\"\n> \"Find all markdown files in Documents\"\n> \"Look for 'invoice' in Downloads\"\n\n---\n\n# QUICK REFERENCE\n\n## Termux (Always Available)\n| Operation | Endpoint | Method |\n|-----------|----------|--------|\n| Draft Email | `/webhook/email/draft` | POST |\n| Send Gmail | `/webhook/email/gmail` | POST |\n| Send Outlook | `/webhook/email/outlook` | POST |\n| Capture | `/webhook/capture` | POST |\n| Get Focus | `/webhook/nudge` | GET |\n| Get Inbox | `/webhook/inbox` | GET |\n| Sync Files | `/webhook/sync-files` | POST |\n| Send Guide | `/webhook/send-guide` | POST |\n| Query Files | `/webhook/file-context` | GET |\n\n## Windows (When Online)\n| Operation | Endpoint | Method |\n|-----------|----------|--------|\n| Health Check | `/health` | GET |\n| List Desktop | `/desktop` | GET |\n| List Directory | `/files/list?path=...` | GET |\n| Read File | `/files/read?path=...` | GET |\n| Search Files | `/files/search?path=...&q=...` | GET |\n\n---\n\n# COMMON WORKFLOWS\n\n## Send Email from Phone\n1. \"Draft an email to bob@example.com about the project update\"\n2. Review the draft\n3. \"Send it via Gmail\"\n\n## Check Laptop Files from Phone\n1. \"Is my laptop online?\" (health check)\n2. \"What's on my desktop?\"\n3. \"Read the notes.txt file\"\n\n## Capture Learning\n1. \"Capture this learning: Always validate webhook signatures before processing\"\n2. Brain stores it with context\n\n## Morning Routine\n1. \"What's in my inbox?\"\n2. \"What should I focus on?\"\n3. \"List my recent captures\"\n\n---\n\n# CLOUDFLARE TUNNEL INFO\n\n**Tunnel Name**: solospace\n**Tunnel ID**: `7c2790e3-0f24-4598-9d99-402452b977de`\n**Public URL**: `https://solospace.codewithsolo.com`\n**Routes to**: `http://localhost:5000` (Termux webhook server)\n\n**To run tunnel** (in Termux):\n```bash\ncloudflared tunnel run 7c2790e3-0f24-4598-9d99-402452b977de\n```\n\n---\n\n# PROJECT MAPPINGS\n\n| Windows Path | Second Brain Label | Type |\n|--------------|-------------------|------|\n| `C:\\Users\\jacla\\projects\\beltlinegolf` | `beltlinegolf` | Next.js + Supabase |\n| `C:\\Users\\jacla\\projects\\tools\\saas-opportunity-bot` | `saas-bot` | Python + Docker |\n| `C:\\Users\\jacla\\projects\\golfwestend-booking` | `golfwestend` | Next.js |\n| `C:\\Users\\jacla\\projects\\freelance` | `freelance` | Mixed |\n\n---\n\n# TROUBLESHOOTING\n\n### \"Cannot connect to Termux server\"\n- Verify Cloudflare tunnel is running: `cloudflared tunnel run solospace`\n- Check `https://solospace.codewithsolo.com/health`\n\n### \"Cannot connect to Windows server\"\n- Laptop must be on and connected\n- Run: `node C:\\Users\\jacla\\.agents\\skills\\second-brain-sync\\server\\file-server.js`\n- Check: `http://localhost:5001/health`\n\n### \"Path not allowed\" (Windows)\n- Only Desktop, Documents, Downloads, projects, .agents are accessible\n- Blocked: .env, password, secret, .ssh, .git/config, node_modules\n\n### \"Email not sending\"\n- Check Gmail/Outlook app passwords in Termux config\n- Verify 2FA is enabled on email account\n",
    "source": "voice",
    "timestamp": "2026-01-20T19:49:46.086Z",
    "status": "classified",
    "category": "note",
    "priority": "low",
    "nextAction": "Review the GPT instructions",
    "confidence": 0.9
  },
  {
    "id": "mkn3a4ov",
    "text": "GPT connection test",
    "source": "gpt-test",
    "timestamp": "2026-01-20T21:11:30.368Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Perform the GPT connection test",
    "confidence": 0.9
  },
  {
    "id": "mknj5ir9",
    "text": "test",
    "source": "voice",
    "timestamp": "2026-01-21T04:35:49.173Z",
    "status": "review",
    "category": "task",
    "priority": "low",
    "nextAction": "Define the purpose of the test",
    "confidence": 0.7
  },
  {
    "id": "dch15ayx",
    "text": "Test",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-21T14:17:14Z",
    "status": "classified",
    "nextAction": "Test"
  },
  {
    "id": "hos0wgmt",
    "text": "TEST:",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-21T16:32:27Z",
    "status": "classified",
    "nextAction": "TEST:"
  },
  {
    "id": "j11w7zqq",
    "text": "VERIFY:",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-21T16:33:27Z",
    "status": "classified",
    "nextAction": "VERIFY:"
  },
  {
    "id": "fb6xor44",
    "text": "TEST:",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-21T17:20:12Z",
    "status": "classified",
    "nextAction": "TEST:"
  },
  {
    "id": "x5jm0jjf",
    "text": "FINAL",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-21T17:23:49Z",
    "status": "classified",
    "nextAction": "FINAL"
  },
  {
    "id": "utx60smd",
    "text": "Build authentication module for gratog",
    "category": "task",
    "priority": "high",
    "source": "nlp",
    "timestamp": "2026-01-21T17:28:36.257Z",
    "status": "active",
    "nextAction": "Build authentication module for gratog",
    "updatedAt": "2026-01-22T13:12:01.582Z"
  },
  {
    "id": "m7bh92ih",
    "text": "Gig: ACME Corp - $2500 - website redesign",
    "category": "gig",
    "priority": "high",
    "source": "nlp",
    "timestamp": "2026-01-21T17:28:41.883Z",
    "status": "active",
    "nextAction": "Invoice ACME Corp",
    "gigData": {
      "client": "ACME Corp",
      "amount": 2500,
      "description": "website redesign"
    },
    "updatedAt": "2026-01-22T13:12:01.294Z"
  },
  {
    "id": "8582r55k",
    "text": "Remember to call mom Thursday",
    "category": "reminder",
    "priority": "medium",
    "source": "nlp",
    "timestamp": "2026-01-21T17:28:42.502Z",
    "status": "classified",
    "nextAction": "Remember to call mom Thursday"
  },
  {
    "id": "hy6r533d",
    "text": "Quick fix on sd-studio dark mode",
    "category": "task",
    "priority": "medium",
    "source": "nlp",
    "timestamp": "2026-01-21T17:28:43.137Z",
    "status": "classified",
    "nextAction": "Quick fix on sd-studio dark mode"
  },
  {
    "id": "llp1j58v",
    "text": "ej",
    "category": "task",
    "priority": "medium",
    "source": "voice",
    "timestamp": "2026-01-22T00:41:50Z",
    "status": "classified",
    "nextAction": "ej"
  },
  {
    "id": "tb6w1fsv",
    "text": "reminder",
    "category": "reminder",
    "priority": "medium",
    "source": "voice",
    "timestamp": "2026-01-22T00:42:05Z",
    "status": "classified",
    "nextAction": "reminder"
  },
  {
    "id": "8q6l9y6f",
    "text": "brain",
    "category": "task",
    "priority": "medium",
    "source": "voice",
    "timestamp": "2026-01-22T00:42:32Z",
    "status": "classified",
    "nextAction": "brain"
  },
  {
    "id": "5qd2w8by",
    "text": "h3lp",
    "category": "task",
    "priority": "medium",
    "source": "voice",
    "timestamp": "2026-01-22T00:42:41Z",
    "status": "classified",
    "nextAction": "h3lp"
  },
  {
    "id": "kfhaezp2",
    "text": "Call",
    "category": "task",
    "priority": "medium",
    "source": "cli",
    "timestamp": "2026-01-22T12:47:38Z",
    "status": "classified",
    "nextAction": "Call"
  },
  {
    "id": "mkpofz3a",
    "text": "Smoke test",
    "source": "smoke",
    "timestamp": "2026-01-22T16:39:27.334Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Perform smoke test",
    "confidence": 0.9
  },
  {
    "id": "mkpouxkp",
    "text": "Test task from Phase 2 integration",
    "source": "test",
    "timestamp": "2026-01-22T16:51:05.209Z",
    "status": "pending"
  },
  {
    "id": "mkpp2tyo",
    "text": "Test atomic write",
    "source": "test",
    "timestamp": "2026-01-22T16:57:13.776Z",
    "status": "classified",
    "category": "task",
    "priority": "medium",
    "nextAction": "Perform atomic write test",
    "confidence": 0.9
  },
  {
    "id": "mkpp30qp",
    "text": "Concurrent test {1..20}",
    "source": "test",
    "timestamp": "2026-01-22T16:57:22.561Z",
    "status": "pending"
  }
]
